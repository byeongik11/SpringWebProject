
/* Drop Tables */

DROP TABLE COMMENTS CASCADE CONSTRAINTS;
DROP TABLE GROUP_INFO CASCADE CONSTRAINTS;
DROP TABLE TRAVEL_INFO CASCADE CONSTRAINTS;
DROP TABLE BOARD_INFO CASCADE CONSTRAINTS;
DROP TABLE MEMBER_INFO CASCADE CONSTRAINTS;




/* Create Tables */

-- 게시글_정보
CREATE TABLE BOARD_INFO
(
	-- 게시글번호
	BOD_NO varchar2(8) NOT NULL,
	-- 회원_번호
	MEM_NUM varchar2(8) NOT NULL,
	-- 카테고리번호
	CTGR_NO varchar2(3) NOT NULL,
	-- 제목
	BOD_TITLE varchar2(120) NOT NULL,
	-- 작성일
	BOD_DATE varchar2(12) NOT NULL,
	-- 내용
	BOD_TEXT varchar2(4000) NOT NULL,
	-- 조회수
	BOD_CNT varchar2(8) NOT NULL,
	-- 삭제여부
	BOD_DELCHK number(1) NOT NULL,
	PRIMARY KEY (BOD_NO)
);


-- 댓글
CREATE TABLE COMMENTS
(
	-- 게시글번호
	BOD_NO varchar2(8) NOT NULL,
	-- 댓글넘버
	CMT_NO varchar2(8) NOT NULL,
	-- 들여쓰기레벨
	CMT_LVL varchar2(3) NOT NULL,
	-- 댓글내용
	CMT_TEXT varchar2(900) NOT NULL,
	-- 댓글_등록일자
	CMT_DATE date NOT NULL,
	PRIMARY KEY (BOD_NO, CMT_NO)
);


-- 그룹_참가자_정보
CREATE TABLE GROUP_INFO
(
	-- 게시글번호
	BOD_NO varchar2(8) NOT NULL,
	-- 회원_번호
	MEM_NUM varchar2(8) NOT NULL,
	PRIMARY KEY (BOD_NO, MEM_NUM)
);


-- 회원정보
CREATE TABLE MEMBER_INFO
(
	-- 회원_번호
	MEM_NUM varchar2(8) NOT NULL,
	-- 회원_아이디
	MEM_ID varchar2(20) NOT NULL UNIQUE,
	-- 회원_비밀번호
	MEM_PW varchar2(20) NOT NULL,
	-- 회원_이름
	MEM_NAME varchar2(20) NOT NULL,
	-- 회원_생일
	MEM_BIRTH varchar2(8) NOT NULL,
	-- 회원_성별
	MEM_SEX char(1) NOT NULL,
	-- 회원_주소
	MEM_ADRES varchar2(150) NOT NULL,
	-- 회원_전화번호
	MEM_TEL varchar2(11) NOT NULL,
	-- 회원_이메일
	MEM_EMAIL varchar2(30) NOT NULL,
	-- 회원_레벨
	MEM_LVL char(1) NOT NULL,
	PRIMARY KEY (MEM_NUM)
);


-- 게시글_상세정보
CREATE TABLE TRAVEL_INFO
(
	-- 게시글번호
	BOD_NO varchar2(8) NOT NULL,
	-- 출발일
	TRV_SD varchar2(8) NOT NULL,
	-- 도착일
	TRV_ED varchar2(8) NOT NULL,
	-- 여행지역_대륙명
	TRV_AREA_CTNT varchar2(15) NOT NULL,
	-- 여행지역_국가
	TRV_AREA_CTRY varchar2(45) NOT NULL,
	-- 여행경비
	TRV_COST varchar2(8) NOT NULL,
	-- 여행정보_베스트
	TRV_BEST varchar2(4000) NOT NULL,
	-- 여행정보_워스트
	TRV_WORST varchar2(4000) NOT NULL,
	-- 그룹_최대인원
	TRV_MAX varchar2(2) NOT NULL,
	-- 그룹_교통수단
	TRV_TRANS varchar2(90) NOT NULL,
	-- 그룹_기타사항
	TRV_ETC varchar2(3000) NOT NULL,
	PRIMARY KEY (BOD_NO)
);



/* Create Foreign Keys */

ALTER TABLE COMMENTS
	ADD FOREIGN KEY (BOD_NO)
	REFERENCES BOARD_INFO (BOD_NO)
;


ALTER TABLE GROUP_INFO
	ADD FOREIGN KEY (BOD_NO)
	REFERENCES BOARD_INFO (BOD_NO)
;


ALTER TABLE TRAVEL_INFO
	ADD FOREIGN KEY (BOD_NO)
	REFERENCES BOARD_INFO (BOD_NO)
;


ALTER TABLE BOARD_INFO
	ADD FOREIGN KEY (MEM_NUM)
	REFERENCES MEMBER_INFO (MEM_NUM)
;


ALTER TABLE GROUP_INFO
	ADD FOREIGN KEY (MEM_NUM)
	REFERENCES MEMBER_INFO (MEM_NUM)
;



/* Comments */

COMMENT ON TABLE BOARD_INFO IS '게시글_정보';
COMMENT ON COLUMN BOARD_INFO.BOD_NO IS '게시글번호';
COMMENT ON COLUMN BOARD_INFO.MEM_NUM IS '회원_번호';
COMMENT ON COLUMN BOARD_INFO.CTGR_NO IS '카테고리번호';
COMMENT ON COLUMN BOARD_INFO.BOD_TITLE IS '제목';
COMMENT ON COLUMN BOARD_INFO.BOD_DATE IS '작성일';
COMMENT ON COLUMN BOARD_INFO.BOD_TEXT IS '내용';
COMMENT ON COLUMN BOARD_INFO.BOD_CNT IS '조회수';
COMMENT ON COLUMN BOARD_INFO.BOD_DELCHK IS '삭제여부';
COMMENT ON TABLE COMMENTS IS '댓글';
COMMENT ON COLUMN COMMENTS.BOD_NO IS '게시글번호';
COMMENT ON COLUMN COMMENTS.CMT_NO IS '댓글넘버';
COMMENT ON COLUMN COMMENTS.CMT_LVL IS '들여쓰기레벨';
COMMENT ON COLUMN COMMENTS.CMT_TEXT IS '댓글내용';
COMMENT ON COLUMN COMMENTS.CMT_DATE IS '댓글_등록일자';
COMMENT ON TABLE GROUP_INFO IS '그룹_참가자_정보';
COMMENT ON COLUMN GROUP_INFO.BOD_NO IS '게시글번호';
COMMENT ON COLUMN GROUP_INFO.MEM_NUM IS '회원_번호';
COMMENT ON TABLE MEMBER_INFO IS '회원정보';
COMMENT ON COLUMN MEMBER_INFO.MEM_NUM IS '회원_번호';
COMMENT ON COLUMN MEMBER_INFO.MEM_ID IS '회원_아이디';
COMMENT ON COLUMN MEMBER_INFO.MEM_PW IS '회원_비밀번호';
COMMENT ON COLUMN MEMBER_INFO.MEM_NAME IS '회원_이름';
COMMENT ON COLUMN MEMBER_INFO.MEM_BIRTH IS '회원_생일';
COMMENT ON COLUMN MEMBER_INFO.MEM_SEX IS '회원_성별';
COMMENT ON COLUMN MEMBER_INFO.MEM_ADRES IS '회원_주소';
COMMENT ON COLUMN MEMBER_INFO.MEM_TEL IS '회원_전화번호';
COMMENT ON COLUMN MEMBER_INFO.MEM_EMAIL IS '회원_이메일';
COMMENT ON COLUMN MEMBER_INFO.MEM_LVL IS '회원_레벨';
COMMENT ON TABLE TRAVEL_INFO IS '게시글_상세정보';
COMMENT ON COLUMN TRAVEL_INFO.BOD_NO IS '게시글번호';
COMMENT ON COLUMN TRAVEL_INFO.TRV_SD IS '출발일';
COMMENT ON COLUMN TRAVEL_INFO.TRV_ED IS '도착일';
COMMENT ON COLUMN TRAVEL_INFO.TRV_AREA_CTNT IS '여행지역_대륙명';
COMMENT ON COLUMN TRAVEL_INFO.TRV_AREA_CTRY IS '여행지역_국가';
COMMENT ON COLUMN TRAVEL_INFO.TRV_COST IS '여행경비';
COMMENT ON COLUMN TRAVEL_INFO.TRV_BEST IS '여행정보_베스트';
COMMENT ON COLUMN TRAVEL_INFO.TRV_WORST IS '여행정보_워스트';
COMMENT ON COLUMN TRAVEL_INFO.TRV_MAX IS '그룹_최대인원';
COMMENT ON COLUMN TRAVEL_INFO.TRV_TRANS IS '그룹_교통수단';
COMMENT ON COLUMN TRAVEL_INFO.TRV_ETC IS '그룹_기타사항';



